# Mock Server for Auto-Go

这是一个专为auto-go浏览器自动化工具设计的模拟服务器，提供各种测试场景，包括表单填写、拖拽操作、信息获取和交互功能。

## 功能特性

- 简单表单测试页面
- 复杂表单测试页面（包含下拉选择、条件显示等）
- 拖拽功能测试页面
- 信息获取测试页面
- 交互功能测试页面

## 快速开始

### 1. 安装依赖

```bash
cd mock_server
go mod download
```

或者如果之前没有安装Gin框架：

```bash
go get -u github.com/gin-gonic/gin
```

### 2. 启动服务器

Windows系统：
```bash
start.bat
```

或者直接运行：
```bash
go run main.go
```

### 3. 访问测试页面

服务器启动后，可以通过以下地址访问测试页面：

- 首页: http://localhost:8080
- 简单表单: http://localhost:8080/simple-form
- 复杂表单: http://localhost:8080/complex-form
- 拖拽测试: http://localhost:8080/drag-and-drop
- 信息获取: http://localhost:8080/info-page
- 交互测试: http://localhost:8080/interactive-test

## 测试auto-go

使用提供的任务配置文件测试auto-go：

```bash
cd ..  # 返回auto-go根目录
go run main.go run --tasks mock_server/mock_server_tasks.json --interactive
```

这将在交互模式下运行所有测试任务，您可以观察浏览器自动执行各种操作。

## 页面功能说明

### 简单表单页面

包含基本的表单元素：文本输入、邮箱输入、电话输入、文本区域和复选框。用于测试基本的表单填写和提交功能。

### 复杂表单页面

包含更复杂的交互元素：
- Cookie横幅（可点击关闭）
- 带有提示文本的输入框
- 国家/省份级联选择
- 条件显示的高级选项
- 表单提交时的加载动画

### 拖拽测试页面

提供两种拖拽测试：
- 基本拖拽：将元素拖放到指定区域
- 高级拖拽：将标签分类到不同优先级

### 信息获取页面

包含产品信息卡片和多个标签页：
- 产品名称、价格、评分等信息
- 可切换的标签页（产品详情、技术规格、用户评价）
- 可显示/隐藏的额外内容

### 交互测试页面

包含各种交互功能：
- 点击显示/隐藏元素
- 进度条动画
- 右键上下文菜单
- 悬停提示
- 元素选择/取消选择
- 模态对话框

## 自定义扩展

您可以基于现有的页面模板创建更复杂的测试场景：

1. 修改HTML模板文件（在templates目录下）
2. 更新main.go中的路由处理逻辑
3. 添加新的API接口（如需要）
4. 重新启动服务器

## 注意事项

1. 确保mock_server与auto-go工具使用相同的网络环境
2. 如果使用无头模式，一些基于鼠标悬停的操作可能不会触发预期效果
3. 某些交互元素（如拖拽）可能需要调整等待时间以确保元素已完全加载
4. 在测试过程中，可以通过浏览器的开发者工具检查元素选择器是否正确

## 故障排除

如果遇到以下问题，请检查：

1. **服务器无法启动**
   - 确保端口8080未被其他程序占用
   - 检查是否正确安装了Gin框架

2. **auto-go无法找到元素**
   - 确保元素选择器正确
   - 检查元素是否在可见区域
   - 增加等待时间

3. **拖拽操作不工作**
   - 确保使用了非无头模式进行测试
   - 检查元素是否支持拖拽

4. **表单提交失败**
   - 检查所有必填字段是否已填写
   - 确认复选框已勾选（如需要）